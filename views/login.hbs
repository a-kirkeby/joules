<div class="container-scroller">
  <div class="container-fluid page-body-wrapper full-page-wrapper">
    <div class="content-wrapper d-flex align-items-center auth px-0">
      <div class="row w-100 mx-0">
        <div class="col-lg-4 mx-auto">
          <div class="auth-form-light text-left py-5 px-4 px-sm-5">
            <div class="brand-logo">
              NoveltyGraph
            </div>
            <h4>Hello, let's get you signed in to the beta</h4>
            <h6 class="fw-light pt-3">Add your email and password</h6>
              <div class="form-group">
                <input type="email" class="form-control form-control-lg" id="exampleInputEmail1" placeholder="E-mail">
              </div>
              <div class="form-group">
                <input type="password" class="form-control form-control-lg" id="exampleInputPassword1"
                  placeholder="Password">
              </div>
              <div class="mt-3 text-end">
                <button class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn">SIGN IN</button>
              </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      var email = document.getElementById('exampleInputEmail1');
      var password = document.getElementById('exampleInputPassword1');
      var button = document.querySelector('.auth-form-btn');

      button.addEventListener('click', async () => {
        const response = await fetch('/api/auth/authenticate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          credentials: 'same-origin',
          body: JSON.stringify({ email: email.value, password: password.value })
        })
        const data = await response.json()
        console.log(data)
        if (data && data.success) {
          window.location.href = '/'
          return
        }

      })
    </script>